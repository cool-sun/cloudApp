(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4409c97c"],{"15c8":function(t,e,a){"use strict";a("9197")},7331:function(t,e,a){"use strict";a("ac0e")},"80c1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("common-layout2",[s("div",{staticClass:"top"},[s("div",{staticClass:"header"},[s("img",{staticClass:"logo",attrs:{alt:"logo",src:a("4ffd")}}),s("span",{staticClass:"title"},[t._v(t._s(t.systemName))])]),s("div",{staticClass:"desc"},[t._v("Cloud App 简单易用的云应用平台")])]),s("div",{staticClass:"login"},[s("a-form",{attrs:{form:t.form},on:{submit:t.onSubmit}},[s("a-tabs",{staticStyle:{padding:"0 2px"},attrs:{size:"large",tabBarStyle:{textAlign:"center"}}},[s("a-tab-pane",{key:"1",attrs:{tab:"账户密码登录"}},[t.error?s("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:t.error,showIcon:""},on:{close:t.onClose}}):t._e(),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入账户名",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: '请输入账户名', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"请输入账户名"}},[s("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: '请输入密码', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"请输入密码",autocomplete:"autocomplete",type:"password"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),s("a-tab-pane",{key:"2",attrs:{tab:"手机号登录"}},[s("a-form-item",[s("a-input",{attrs:{size:"large",placeholder:"mobile number"}},[s("a-icon",{attrs:{slot:"prefix",type:"mobile"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-row",{staticStyle:{margin:"0 -4px"},attrs:{gutter:8}},[s("a-col",{attrs:{span:16}},[s("a-input",{attrs:{size:"large",placeholder:"captcha"}},[s("a-icon",{attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),s("a-col",{staticStyle:{"padding-left":"4px"},attrs:{span:8}},[s("a-button",{staticClass:"captcha-button",staticStyle:{width:"100%"},attrs:{size:"large"}},[t._v("获取验证码")])],1)],1)],1)],1)],1),s("div",[s("a-checkbox",{attrs:{checked:!0}},[t._v("自动登录")]),s("a",{staticStyle:{float:"right"}},[t._v("忘记密码")])],1),s("a-form-item",[s("a-button",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{loading:t.logging,size:"large",htmlType:"submit",type:"primary"}},[t._v("登录")])],1),s("div",[t._v(" 其他登录方式 "),s("a-icon",{staticClass:"icon",attrs:{type:"alipay-circle"}}),s("a-icon",{staticClass:"icon",attrs:{type:"taobao-circle"}}),s("a-icon",{staticClass:"icon",attrs:{type:"weibo-circle"}}),s("router-link",{staticStyle:{float:"right"},attrs:{to:"/dashboard/workplace"}},[t._v("注册账户")])],1)],1)],1)])},r=[],o=a("5530"),i=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[t._t("default")],2)])}),c=[],l={name:"CommonLayout"},n=l,u=(a("15c8"),a("2877")),p=Object(u["a"])(n,i,c,!1,null,"50fe77cb",null),m=p.exports,d=a("93d6"),f=a("5880"),g={name:"Login",components:{CommonLayout2:m},data:function(){return{logging:!1,error:"",form:this.$form.createForm(this)}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(o["a"])(Object(o["a"])({},Object(f["mapMutations"])("account",["setUser","setAvatar","setRoles"])),{},{onSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t){if(!t){e.logging=!0;var a=e.form.getFieldValue("name"),s=e.form.getFieldValue("password");Object(d["a"])(a,s).then(e.afterLogin).catch(e.failedLogin)}}))},afterLogin:function(t){var e=t.data,a=e.data,s=a.name,r=a.avatar_url,o=a.role_id;this.logging=!1,this.$router.push("/dashboard"),this.setUser(s),this.setAvatar(r),this.setRoles(o)},failedLogin:function(){this.logging=!1},onClose:function(){this.error=!1}})},h=g,b=(a("7331"),Object(u["a"])(h,s,r,!1,null,"6f9df401",null)),v=b.exports;e["default"]=v},9197:function(t,e,a){},ac0e:function(t,e,a){}}]);